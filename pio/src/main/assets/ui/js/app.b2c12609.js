(function(e){function t(t){for(var o,a,c=t[0],s=t[1],l=t[2],d=0,p=[];d<c.length;d++)a=c[d],r[a]&&p.push(r[a][0]),r[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,c=1;c<n.length;c++){var s=n[c];0!==r[s]&&(o=!1)}o&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},r={app:0},i=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0747":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("8e6e"),n("ac6a"),n("456d");var o=n("bd86"),r=(n("cadf"),n("551c"),n("f751"),n("097d"),n("2b0e")),i=(n("df49"),n("e7bd")),a=n("0c29"),c=n("ae0c"),s=n("7ced"),l=n("84d6"),u=n("d2c1");r["a"].use(i["a"]),r["a"].use(a["a"]),r["a"].use(c["a"]),r["a"].use(s["a"]),r["a"].use(l["a"]),r["a"].use(u["a"]);var d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("keep-alive",[n("router-view")],1)},p=[],f=n("2877"),h={},v=Object(f["a"])(h,d,p,!1,null,null,null),b=v.exports,g=(n("5cfb"),n("8c4f")),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-official"},[n("div",{staticClass:"top-background",style:e.backgroundColor()}),e._m(0),n("div",{staticClass:"header"},[n("h2",[e._v("MIUI 温控配置切换")]),n("h5",[e._v("当前设备："+e._s(e.deviceName)+"("+e._s(e.deviceModel)+")")])]),e.running?[n("div",{staticClass:"shell-log"},[e._l(e.logs,function(t,o){return n("div",{key:o,class:t.type},[e._v(e._s(t.content))])}),n("div",{staticClass:"exec-back",on:{click:e.backList}})],2)]:[n("div",{class:"options"+(e.options.length%2==1?" options-odd":"")},e._l(e.options,function(t,o){return n("div",{key:o,class:{selected:e.isSelected(t.value)},on:{touchend:e.touchUp,touchstart:function(n){return e.chooseOption(t)}}},[n("div",{style:{backgroundColor:t.color}},[n("div",{staticClass:"option-info"},[n("div",[e._v(e._s(t.title))]),n("div")]),n("div",[n("span",{staticClass:"freq-number"},[e._v(e._s(o+1))]),n("span",[e._v("OPT")])])])])}),0),n("div",{staticStyle:{display:"inline-block"}},[n("cube-checkbox",{attrs:{disabled:""},model:{value:e.autoReboot,callback:function(t){e.autoReboot=t},expression:"autoReboot"}},[e._v("\n        自动重启\n      ")])],1),n("div",{staticClass:"desc"},[e.autoReboot?n("div",[e._v("切换完成后，自动重启手机")]):n("div",[e._v("切换完成后不重启手机")])]),n("cube-button",{staticClass:"button-applay",style:e.backgroundColor(),attrs:{light:!1},on:{click:e.applyMode}},[e._v("应用")])],n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"loading-mask"},[n("cube-loading",{attrs:{size:40}})],1)],2)},y=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"author"},[n("div",[e._v("Author : Designed by SKI")]),n("div",[e._v("Version: 2021.06.25")]),n("div",[n("small",[e._v("未经允许不得擅自搬运和转载")])]),n("div",[n("small",[e._v("不得擅自提取和转发温控配置")])]),n("div",[n("small",[e._v("不得二次修改发布")])])])}],k=(n("28a5"),function(e){var t=e.indexOf("_")>-1?e.substr(0,e.indexOf("_")):e,n="";switch(t){case"default":n="系统默认 (default)";break;case"cool":n="清爽酷凉 (cool)";break;case"powerfrugal":n="节能降温 (powerfrugal)";break;case"performance":n="提高阈值 (performance)";break;case"slight":n="轻微调整 (slight)";break;case"pro":n="深度定制 (pro)";break;case"author":n="游戏嘟日常 (author)";break;case"extreme":n="极致性能 (extreme)";break;case"danger":n="丧心病狂 (danger)";break;case"game":n="游戏模式 (game)";break;case"":n="未替换";break;default:n="未替换";break}return n}),S=["#ff6900","#00d5d9","#87cb00","#fc8a1b","#f9592f"],O={data:function(){return{deviceName:"",deviceModel:"",sdkInt:0,loading:!1,officialSupported:!1,platform:"",logs:[{type:"",content:"--"}],options:[{title:"默认",desc:"",value:60,color:"#00d5d9"},{title:"稳定",desc:"",value:72,color:"#87cb00"},{title:"发烧",desc:"",value:84,color:"#fc8a1b"},{title:"极限",desc:"",value:90,color:"#f9592f"}],running:!1,finish:!1,selectedOption:null,autoReboot:!1}},created:function(){if(window.KrScriptCore){this.deviceName=KrScriptEngine.executeShell("getprop ro.product.model"),this.deviceModel=KrScriptEngine.executeShell("getprop ro.product.name"),this.sdkInt=KrScriptEngine.executeShell("getprop ro.build.version.sdk");var e=KrScriptEngine.executeShell("getprop ro.board.platform");this.platform=e;var t=KrScriptEngine.executeShell("$TOOLKIT/".concat(e,"/options.sh"));if(t){var n=[];t.split("\n").forEach(function(e,t){var o=e.split("|");n.push({title:k(o[0]),desc:o[1]||"-",value:o[0],color:S[t]||"#f9592f"})}),this.officialSupported=!0,this.options=n}else this.officialSupported=!1;var o=KrScriptEngine.executeShell("$TOOLKIT/current.sh")||"default";this.selectedOption=this.options.filter(function(e){return e.value==o})[0]}else alert("异常，当前环境无法访问KrScript引擎~")},methods:{backList:function(){this.touchUp();var e=KrScriptEngine.executeShell("$TOOLKIT/current.sh")||"default";this.selectedOption=this.options.filter(function(t){return t.value==e})[0],this.running=!1},refreshRatetest:function(){window.open("https://testufo.com")},touchUp:function(){navigator.vibrate?navigator.vibrate(20):navigator.webkitVibrate&&navigator.webkitVibrate(20)},chooseOption:function(e){this.selectedOption=e,navigator.vibrate?navigator.vibrate(40):navigator.webkitVibrate&&navigator.webkitVibrate(40)},applyMode:function(){var e=this;try{this.loading=!0,this.touchUp(),this.deviceModel?this.selectedOption&&this.selectedOption.value?(this.logs=[],this.running=!0,KrScriptEngine.executeShellAsync("$TOOLKIT/config.sh",function(t){e.logs.push({type:"general",content:t})},function(t){e.logs.push({type:"error",content:t})},function(){e.finish=!0,e.logs.push({type:"exit",content:"执行结束"})},{state:this.selectedOption.value})):alert("请先选择要切换的模式！"):alert("当前设备型号未知，无法进行切换~")}finally{this.loading=!1}},isSelected:function(e){return!(!this.selectedOption||!this.selectedOption.value)&&e==this.selectedOption.value},backgroundColor:function(){if(this.selectedOption&&this.selectedOption.color)return{backgroundColor:this.selectedOption.color}}}},_=O,w=(n("9793"),Object(f["a"])(_,m,y,!1,null,null,null)),x=w.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("cube-button",{on:{click:e.syncRunTest}},[e._v("同步执行脚本")]),n("cube-button",{on:{click:e.asyncRunTest}},[e._v("异步执行脚本")]),n("div",{staticClass:"shell-log-view"},e._l(e.logs,function(t,o){return n("div",{key:o,domProps:{innerHTML:e._s(t)}})}),0)],1)},I=[],j={data:function(){return{logs:["# 脚本执行器"]}},methods:{syncRunTest:function(){if(confirm("确定要用 KrScriptCore 执行脚本代码吗？"))try{var e=KrScriptEngine.executeShell("echo 'hello world！'");alert("执行结果："+e)}catch(t){alert("KrScriptEngine 异常："+t.message)}},asyncRunTest:function(){var e=this;try{var t=KrScriptEngine.executeShellAsync("echo 'hello world！'",function(t){e.logs.push('<b style="color: #555">'+t+"</b>")},function(t){e.logs.push('<b style="color: #d00">'+t+"</b>")},function(t){e.logs.push('<b style="color: #5d5">完成：'+t+"</b>")});this.logs.push("开始运行："+t)}catch(n){alert("KrScriptEngine 异常："+n.message)}}}},K=j,E=(n("89f1"),Object(f["a"])(K,C,I,!1,null,null,null)),P=E.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{padding:"0.6rem"}},[n("router-view")],1)},$=[],M=(n("7d14"),{}),A=Object(f["a"])(M,T,$,!1,null,null,null),R=A.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",e._l(e.pages,function(e,t){return n("Page",{key:t})}),1),n("cube-button",{attrs:{icon:"plus"},on:{click:e.onAddClick}},[e._v("添加")])],1)},L=[],N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Common",{attrs:{nodeInfo:e.page}})],1)},D=[],J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"subgroup"},[n("h4",{staticClass:"subtitle"},[e._v("基础配置")]),n("cube-input",{attrs:{placeholder:"标题"},model:{value:e.nodeInfo.title,callback:function(t){e.$set(e.nodeInfo,"title",t)},expression:"nodeInfo.title"}}),n("cube-input",{attrs:{placeholder:"说明"},model:{value:e.nodeInfo.desc,callback:function(t){e.$set(e.nodeInfo,"desc",t)},expression:"nodeInfo.desc"}}),n("cube-input",{attrs:{placeholder:"摘要"},model:{value:e.nodeInfo.summary,callback:function(t){e.$set(e.nodeInfo,"summary",t)},expression:"nodeInfo.summary"}})],1),n("div",{staticClass:"subgroup"},[n("h4",{staticClass:"subtitle"},[e._v("进阶")]),n("cube-textarea",{attrs:{maxlength:500,placeholder:"desc-sh"},model:{value:e.nodeInfo.descSh,callback:function(t){e.$set(e.nodeInfo,"descSh",t)},expression:"nodeInfo.descSh"}}),n("cube-textarea",{attrs:{maxlength:500,placeholder:"summary-sh"},model:{value:e.nodeInfo.summarySh,callback:function(t){e.$set(e.nodeInfo,"summarySh",t)},expression:"nodeInfo.summarySh"}})],1),n("cube-button",{attrs:{icon:"save"},on:{click:e.onSaveClick}},[e._v("保存")])],1)},V=[],G={props:{nodeInfo:{type:Object,required:!0}},data:function(){return{}},methods:{onSaveClick:function(){}}},F=G,H=Object(f["a"])(F,J,V,!1,null,null,null),q=H.exports,z={data:function(){return{page:{id:"",title:"",desc:"",summary:"",descSh:"",summarySh:""}}},components:{Common:q}},B=z,Q=Object(f["a"])(B,N,D,!1,null,null,null),W=Q.exports,X={data:function(){var e=window.localStorage["pages"];return{pages:JSON.parse(e||"[]")}},methods:{onAddClick:function(){this.onAddPageClick()},onAddPageClick:function(){this.$router.push({name:"GUI-Page"})}}},Y=X,Z=Object(f["a"])(Y,U,L,!1,null,null,null),ee=Z.exports,te=[{path:"/gui",component:R,name:"GUI",children:[{name:"GUI-Page",component:W,path:"/gui/page"},{name:"GUI-Home",component:ee,path:"/gui/*"}]},{path:"/home",component:P,name:"Home"},{path:"/refresh-rate",component:x,name:"OfficialPage"}];function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(n,!0).forEach(function(t){Object(o["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}r["a"].config.productionTip=!1,r["a"].use(g["a"]),window.KrScriptEngine={executeShell:function(e){return"string"==typeof e?window.KrScriptCore.executeShell(e):"boolean"==typeof e?!!e:""},executeShellAsync:function(e,t,n,o,r){return window.TaskSupervisorCallback=function(e){if(e)switch(e.type){case 2:t&&t instanceof Function&&t(e.message);break;case 4:n&&n instanceof Function&&n(e.message);break;case-2:o&&o instanceof Function&&o(e.message);break;default:alert("未知输出："+JSON.stringify(e));break}},"string"==typeof e?window.KrScriptCore.executeShellAsync(e,"window.TaskSupervisorCallback",JSON.stringify(oe({},r))):"boolean"==typeof e?!!e:""},extractAssets:function(e){return e&&"string"==typeof e&&window.KrScriptCore.extractAssets(e)||null},rootCheck:function(){return window.KrScriptCore.rootCheck()}};var re=new g["a"]({routes:te});new r["a"]({router:re,render:function(e){return e(b)}}).$mount("#app")},"7d14":function(e,t,n){"use strict";var o=n("9b04"),r=n.n(o);r.a},"89f1":function(e,t,n){"use strict";var o=n("0747"),r=n.n(o);r.a},9793:function(e,t,n){"use strict";var o=n("e97e"),r=n.n(o);r.a},"9b04":function(e,t,n){},e97e:function(e,t,n){}});